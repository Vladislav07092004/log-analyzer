# Анализатор игровых логов

Приложение на Python для обработки и анализа логов инвентаря и денежных транзакций в игре.

## Описание

Программа обрабатывает два типа игровых логов:
- **Логи предметов** - отслеживают получение и потерю предметов
- **Логи денег** - отслеживают денежные транзакции

Приложение объединяет эти логи, генерирует аналитические отчеты и предоставляет интерактивный режим для анализа предметов.

## Установка

### Клонирование репозитория

```bash
git clone https://github.com/Vladislav07092004/log-analyzer.git
cd log-analyzer
```

## Возможности

- **Объединение логов**: Создает единый файл с сортировкой по времени
- **Анализ данных**: Генерирует статистические отчеты:
  - Топ-10 самых упоминаемых предметов
  - Топ-10 самых богатых игроков
  - Первые и последние 10 упомянутых предметов
- **Интерактивный режим**: Запрос информации о предметах по ID в реальном времени
- **Оптимизация**: Эффективно обрабатывает до 10 миллионов записей

## Структура проекта
├── main.py

├── inventory_logs.txt # Входные данные: логи предметов

├── money_logs.txt # Входные данные: логи денежных транзакции

├── db.json # Соответствие ID игроков и имен

├── items.xml # Соответствие ID предметов и названий

├── combined_log.txt # Выходные данные: объединенные логи

├── output.txt # Выходные данные: аналитические отчеты

├── Dockerfile # Конфигурация Docker

└── README.docx # Исходное описание задания

## Форматы входных данных

### Логи предметов
[timestamp] action_type | player_id, (item_type_id, amount, item_type_id, amount)
action: `ITEM_ADD` (предмет получен), `ITEM_REMOVE` (предмет потерян)

### Логи денег
timestamp|player_id|action_type,amount,reason

Действия: `MONEY_ADD` (деньги получены), `MONEY_REMOVE` (деньги потеряны)

## Выходные данные

### Объединенный лог (combined_log.txt)
[ГГ-ММ-ДД ЧЧ:ММ:СС] player_id | ITEM_ADD (item_id, amount) (item_id, amount)

[ГГ-ММ-ДД ЧЧ:ММ:СС] player_id | ITEM_REMOVE (item_id, amount) (item_id, amount)

[ГГ-ММ-ДД ЧЧ:ММ:СС] player_id | MONEY_ADD | amount | reason

[ГГ-ММ-ДД ЧЧ:ММ:СС] player_id | MONEY_REMOVE | amount | reason


### Аналитический отчет (output.txt)
- Топ-10 предметов по частоте упоминания
- Топ-10 игроков по количеству денег
- Первые 10 предметов в хронологическом порядке
- Последние 10 предметов в хронологическом порядке

## Требования

- Python 2.7.18
- Все входные файлы должны находиться в одной директории со скриптом

## Использование

### Базовый запуск
```bash
python main.py
```

## Запуск через Docker
```bash
docker build -t game-log-analyzer .
docker run -it game-log-analyzer
```
## Интерактивный режим
После обработки логов приложение переходит в интерактивный режим для запросов информации о предметах:
```
ИНТЕРАКТИВНЫЙ РЕЖИМ ЗАПРОСОВ
Введите item_type_id (или 'exit' для выхода):
> 45
Название предмета: Sleeveless top
Общее количество: 0
Игроков с предметом: 0
  Ни у кого нет
()
> 12
Название предмета: Tactical goggles
Общее количество: 23
Игроков с предметом: 4
Топ 10 игроков:
  epyv: 9
  hli: 7
  nwfple: 5
  gclblvwy: 2
()
```
## Спецификации данных
- ID предметов: 1 - 1000
- ID игроков: 1 - 100000
- Деньги: поддерживаются отрицательные балансы
- Временные метки: формат [ГГ-ММ-ДД ЧЧ:ММ:СС]

## Особенности реализации
- Написано на Python 2.7.18 с использованием только стандартных библиотек
- Объектно-ориентированный дизайн с классом Player
- Эффективная обработка больших объемов данных
- Обработка ошибок для некорректных записей в логах

## Лицензия
Проект создан в рамках технического задания на позицию "Программист Python".

## Автор
- Владислав Тушов
- Tg: @vladislav_tushov_96
